<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cryptonic Area — Certificates</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Roboto+Mono&display=swap" rel="stylesheet">
</head>
<body>
  <main class="page">
    <header class="topbar">
      <div class="brand">
        <div class="logo">CA</div>
        <div class="brand-text">
          <h1>Cryptonic Area</h1>
          <p class="tag">Certificates • Phantom Flags CTF</p>
        </div>
      </div>

      <div class="actions">
        <label class="upload-btn">
          <input id="fileInput" type="file" accept=".txt,.csv" />
          Upload list
        </label>
        <button id="downloadAll" class="btn primary">Download All</button>
      </div>
    </header>

    <section class="hero">
      <div class="hero-left">
        <h2>Issue Certificates</h2>
        <p class="lead">Generate participation certificates instantly. Works on mobile. Upload a participant list (one name per line) or edit names in the script.</p>
        <div class="controls-row">
          <input id="search" placeholder="Search name..." />
          <button id="refresh" class="btn">Refresh</button>
        </div>
      </div>
      <div class="hero-right">
        <div class="card stat">
          <div class="stat-number" id="count">0</div>
          <div class="stat-label">Participants</div>
        </div>
        <div class="card preview">
          <div class="preview-title">Preview</div>
          <div class="mini-cert" id="miniCert">
            <div class="m-logo">CA</div>
            <div class="m-title">Certificate of Participation</div>
            <div class="m-name" id="miniName">Participant Name</div>
            <div class="m-meta">Phantom Flags CTF • 2025</div>
          </div>
        </div>
      </div>
    </section>

    <section class="list-wrap card">
      <div class="list-head">
        <strong>Participants</strong>
        <small class="muted">Click name to preview — press Download to save PDF</small>
      </div>
      <div id="list" class="list"></div>
    </section>

    <footer class="footer card">
      <div>Tip: On mobile, allow the browser to save files. PDFs will download to your device's Downloads or Files app.</div>
      <div class="muted">Designed for Cryptonic Area • Phantom Flags CTF</div>
    </footer>
  </main>

  <!-- Hidden certificate template (rendered offscreen for PDF generation) -->
  <div id="certTemplate" class="certTemplate" aria-hidden="true">
    <div class="certPaper" id="certPaper">
      <div class="certInner">
        <div class="wm">CRYPTONIC</div>
        <div class="certHead">
          <div class="certLogo">CA</div>
          <div class="certTitle">Certificate of Participation</div>
        </div>
        <div class="certBody">
          <div class="certSub">This certifies that</div>
          <div class="certName" id="certName">Participant Name</div>
          <div class="certMeta">has participated in <strong>Phantom Flags CTF</strong> • 2025</div>
        </div>
        <div class="certFooter">
          <div>
            <div class="sigline"></div>
            <div class="sigtext">Cryptonic Area</div>
          </div>
          <div class="issued">Issued on <span id="certDate">2025-01-01</span></div>
        </div>
      </div>
    </div>
  </div>

  <!-- libs -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

  <script src="script.js"></script>
</body>
</html>
